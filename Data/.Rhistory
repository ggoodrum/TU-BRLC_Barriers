# 05. FIGURE - Connectivity (currently only Bear Lake)
# ---------------------------------------------------------------------
# Summary: Connectivity diagram for Bear Lake
# Declare data
file.data.results <- paste0(getwd(), '/Data_Results.xlsx')
# Load data
data.results <- rio::import_list(file = file.data.results)
# ---------------------------------------------------------------------------- #
# DATA: Connectivity
# Declare data
data.dci <- data.results[['Connectivity_BearLake']]
# Generate time series for plotting
data.dci.ts <- data.frame(Year = c(seq(1990, 2035, by = 1))) %>%
# Join main DCI estimates
left_join(data.dci %>%
filter(Scenario != 'SCN_2025_Alt') %>%
select(YearMitigated, DCI_symm) %>%
rename('Year' = YearMitigated),
by = 'Year') %>%
left_join(data.dci %>%
filter(Scenario != 'SCN_2025') %>%
select(YearMitigated, DCI_symm) %>%
rename('Year' = YearMitigated,
'DCI_symm_alt' = DCI_symm),
by = 'Year') %>%
mutate(DCI_symm = ifelse(Year < data.dci$YearMitigated[2], min(data.dci$DCI_symm), DCI_symm),
DCI_symm_alt = ifelse(Year < data.dci$YearMitigated[2], min(data.dci$DCI_symm), DCI_symm_alt)) %>%
fill(c(DCI_symm, DCI_symm_alt), .direction = 'down') %>%
as.data.frame
# ---------------------------------------------------------------------------- #
# DATA: Years/Removals
# Declare data
data.network <- data.results[['Data_Network']]
# Lookup barriers by year for export
barriers.rmv <- data.network %>%
mutate(YearMitigated = ifelse(SourceID == 'TU_DIV_SW-01', 2005, YearMitigated)) %>%
# filter(! Barrier_Expected %in% c('Junction', 'Terminus')) %>%
filter(Pass_Before != Pass_After) %>%
select(YearMitigated, SourceID, BarrierName, Pass_Before, Pass_After) %>%
arrange(YearMitigated) %>%
mutate(text.fig = c('Bear Lake Fish Ladder (1995)',
'St. Charles Crk (1999)',
'Swan Crk (2005)',
'Fish Haven Crk (2009)',
'Fish Haven Crk (2014)',
'North Eden Crk (2025)')) %>%
mutate(x.pos = c(YearMitigated - 0.75)) %>%
left_join(data.dci %>% filter(Scenario != 'SCN_2025_Alt') %>% select(YearMitigated, DCI_symm),
by = 'YearMitigated') %>%
filter(YearMitigated >= 1999) %>%
as.data.frame
# ---------------------------------------------------------------------------- #
# AESTHETICS
lwd.lines <- 0.5
lwd.borders <- 0.25
size.text.legend <- 10
size.text.axis <- 10
size.text.axis.title <- 11
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream system)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream system)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream system)')) +
labs(x = 'Year and Restoration Project', y = 'Connectivity (% of total stream system)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream system)')) +
labs(x = 'Year and Restoration Project', y = 'Connectivity (% of total stream system)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream system)')) +
labs(x = 'Year and Restoration Project', y = 'Connectivity (% of total stream system)')
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.title.y.right = element_text(vjust = +3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream system)')) +
labs(x = 'Year and Restoration Project', y = 'Connectivity (% of total stream system)')
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.title.y.right = element_text(vjust = +3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream system)')) +
labs(x = 'Year and Restoration Project', y = 'Connectivity (% of total stream system)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.24,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.48,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.title.y.right = element_text(vjust = +3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Restoration Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 10, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
