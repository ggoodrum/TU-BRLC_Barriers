scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10))) +
labs(x = 'Year', y = 'Connectivity (% of total stream length)')
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'lightskyblue', alpha = 0.25) +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.2, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10))) +
labs(x = 'Year', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.2, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10))) +
labs(x = 'Year', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 11, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.2, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ .)) +
labs(x = 'Year', y = 'Connectivity (% of total stream length)')
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.2, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.2, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 11, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.2, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 11, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 11, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# ---------------------------------------------------------------------
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.1, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.02, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.02, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 11, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
# --------------------
# PLOTTING
plot.out <-
ggplot() +
geom_area(data = data.dci.ts, aes(x =  Year, y = DCI_symm),
fill = 'grey95') +
geom_segment(data = barriers.rmv,
aes(x = YearMitigated, y = -Inf, yend = DCI_symm),
linetype = 'dotted') +
geom_line(data = data.dci.ts, aes(x =  Year, y = DCI_symm), linewidth = 1) +
geom_line(data = data.dci.ts %>%
filter(Year >= 2024),
aes(x =  Year, y = DCI_symm_alt), linetype = 'dashed') +
geom_text(data = barriers.rmv, aes(x = x.pos, y = 0.01, label = text.fig),
size = 8/.pt, angle = 90, hjust =  0) +
annotate(geom = 'text', label = 'Connectivity with\nNorth Eden Crk\npush-up dam',
x = 2027.5, y = 0.245,
size = 8/.pt, ) +
annotate(geom = 'text', label = 'Connectivity without\nNorth Eden Crk\npush-up dam',
x = 2027.0, y = 0.475,
size = 8/.pt, ) +
theme(panel.background = element_rect(fill = 'white'),
panel.border = element_rect(fill = NA, linewidth = lwd.borders),
axis.text = element_text(size = size.text.axis, color = 'black'),
axis.title = element_text(size = size.text.axis.title),
axis.title.x = element_text(vjust = 0),
# axis.title.y = element_text(vjust = + 3),
axis.ticks = element_line(linewidth = lwd.borders),
# legend.position = 'none',
legend.position.inside = 'inside',
legend.position = c(0.83, 0.92),
legend.background = element_blank(),
legend.key.height = unit(0.4, 'cm'),
legend.key.width = unit(0.4, 'cm'),
legend.text = element_text(size = size.text.legend),
legend.title = element_text(size = size.text.legend)) +
scale_x_continuous(limits = c(1995, 2030), expand = c(0,0), breaks = c(seq(0, 2025, by = 5))) +
scale_y_continuous(limits = c(0,0.55), expand = c(0,0), breaks = c(seq(0,0.5, by = 0.1)),
labels = c(seq(0,50,by=10)),
sec.axis = sec_axis(~ . *100,
name = 'Connectivity (% of total stream length)')) +
labs(x = 'Year and Mitigation Project', y = 'Connectivity (% of total stream length)')
# ---------------------------------------------------------------------------- #
# Declare working directory
pwd <- paste0(dirname(rstudioapi::getSourceEditorContext()$path))
setwd(pwd)
# Write output
ggsave(filename = 'Figure_Connectivity.png', plot.out,
width = 18, height = 11, units = 'cm',
dpi = 600, bg = 'white')
# Declare working directory
pwd <- dirname(rstudioapi::getSourceEditorContext()$path)
setwd(pwd)
